(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{215:function(e,t,n){},229:function(e,t){},238:function(e,t){},256:function(e,t){},258:function(e,t){},274:function(e,t){},275:function(e,t){},340:function(e,t){},342:function(e,t){},374:function(e,t){},376:function(e,t){},377:function(e,t){},382:function(e,t){},384:function(e,t){},390:function(e,t){},392:function(e,t){},405:function(e,t){},417:function(e,t){},420:function(e,t){},425:function(e,t){},436:function(e,t){},439:function(e,t){},505:function(e,t,n){"use strict";n.r(t);var a=n(12),s=n.n(a),i=n(72),r=n.n(i),l=(n(215),n(17)),u=n.n(l),o=n(50),d=n(19),p=n(202),c=n.n(p),y=n(206),m=n.n(y),b=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],f=[{inputs:[{internalType:"address",name:"rewardToken_",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Claim",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Rugpull",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"blockRewards",type:"uint256"}],name:"changeBlockRewards",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"getBlockRewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"user",type:"address"}],name:"getDeposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"user",type:"address"}],name:"getRewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"getTotalStaked",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"blockRewards",type:"uint256"}],name:"newVault",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardToken",outputs:[{internalType:"contract IBEP20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"to",type:"address"}],name:"rugpull",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],x="0xfda9f0a02a54a6233f4d66bdf3cc63281dfe9a25",j="0x3b5a616695c7CbdD352A711163318cfd5ac16CdF",w=n(9);function T(e){var t=e.symbol,n=e.tokenContract,s=e.vaultContract,i=e.wallet,r=e.web3,l=e.disabled,p=e.overlayCallback,c=Object(a.useState)(0),y=Object(d.a)(c,2),m=y[0],b=y[1],f=Object(a.useState)(0),T=Object(d.a)(f,2),h=T[0],v=T[1],O=Object(a.useState)(0),g=Object(d.a)(O,2),k=g[0],M=g[1],N=Object(a.useState)(0),C=Object(d.a)(N,2),S=C[0],W=C[1],F=Object(a.useState)(0),A=Object(d.a)(F,2),E=A[0],R=A[1];Object(a.useEffect)(Object(o.a)(u.a.mark((function e(){var a,l,o,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n||null==s){e.next=22;break}return e.next=3,D(t);case 3:if(a=e.sent,a=parseFloat(r.utils.fromWei(a)),b(parseFloat(a)),"ETH"===t){e.next=22;break}return e.next=9,s.methods.getDeposit(x,i).call();case 9:return l=e.sent,l=parseFloat(r.utils.fromWei(l)),v(l),e.next=14,s.methods.getTotalStaked(x).call();case 14:return o=e.sent,o=parseFloat(r.utils.fromWei(o)),R(o),e.next=19,s.methods.getBlockRewards(x).call();case 19:d=e.sent,d=parseFloat(100*d*1051200),W(d);case 22:case"end":return e.stop()}}),e)}))),[n,s]),Object(a.useEffect)((function(){if(null!=s){var e=setInterval(Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.methods.getRewards(x,i).call().then((function(e){t=parseFloat(r.utils.fromWei(t)),M(t)})).catch((function(e){}));case 2:t=e.sent;case 3:case"end":return e.stop()}}),e)}))),1e4);return function(){return clearInterval(e)}}}),[s]);var D=function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("ETH"!==t){e.next=6;break}return e.next=3,r.eth.getBalance(i);case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,n.methods.balanceOf(i).call();case 8:e.t0=e.sent;case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)("div",{className:"flex flex-col items-center m-5 bg-blue-200 rounded-3xl gap-y-5 w-10/12 sm:w-96 py-10 shadow-2xl",children:[Object(w.jsxs)("div",{className:"flex flex-col justify-center items-center flex-grow bg-white rounded-2xl gap-y-2 w-5/6 p-3",children:[Object(w.jsxs)("b",{className:"text-2xl",children:[t," Vault"]}),Object(w.jsxs)("div",{className:"grid grid-cols-2 divide-x-2 divide-purple-400 w-full",children:[Object(w.jsxs)("div",{className:"flex flex-col text-center divide-x",children:[Object(w.jsx)("p",{className:"text-purple-400 text-md",children:"APR:"}),Object(w.jsxs)("p",{children:[S.toFixed(2),"%"]})]}),Object(w.jsxs)("div",{className:"flex flex-col text-center",children:[Object(w.jsx)("p",{className:"text-purple-400 text-md",children:"TVL:"}),Object(w.jsxs)("p",{children:[E," ",t]})]})]})]}),Object(w.jsxs)("div",{className:"flex flex-col items-center flex-grow bg-white rounded-2xl gap-y-3 w-5/6 py-3",children:[Object(w.jsxs)("div",{className:"px-5 truncate max-w-full text-gray-400",children:["Available: ",m.toFixed(5)," ",t]}),Object(w.jsx)("input",{className:"w-5/6 pl-3 border-2 rounded-2xl border-black outline-none",type:"text",inputMode:"numeric",placeholder:"0",disabled:l}),Object(w.jsx)("div",{className:"bg-purple-300 w-10/12 py-1 rounded-2xl text-center",onClick:function(){p(!0,"Transacting..."),n.methods.increaseAllowance(j,r.utils.toWei("4","ether")).send({from:i}).on("confirmation",(function(e,t){console.log(e,t),s.methods.deposit(x,r.utils.toWei("4","ether")).send({from:i}).on("confirmation",(function(e,t){console.log(e,t),p(!1,"Deposit Successful")})).on("error",(function(e,t){console.log(e,t),p(!1,"Deposit Error")}))})).on("error",(function(e,t){console.log(e,t),p(!1,"Approval Error")}))},children:"Deposit"})]}),Object(w.jsxs)("div",{className:"flex flex-col items-center flex-grow bg-white rounded-2xl gap-y-3 w-5/6 py-3",children:[Object(w.jsxs)("div",{className:"px-5 truncate max-w-full text-gray-400",children:["Available: ",h.toFixed(5)," ",t]}),Object(w.jsx)("input",{className:"w-5/6 pl-3 border-2 rounded-2xl border-black outline-none",type:"text",inputMode:"numeric",placeholder:"0",disabled:l}),Object(w.jsx)("div",{className:"bg-purple-300 w-10/12 py-1 rounded-2xl text-center",onClick:function(){p(!0,"Transacting..."),s.methods.withdraw(x).send({from:i}).on("confirmation",(function(e,t){console.log(e,t),p(!1,"Withdrawal Successful")})).on("error",(function(e,t){console.log(e,t),p(!1,"Withdrawal Error")}))},children:"Withdraw & Harvest"})]}),Object(w.jsx)("div",{className:"flex-grow bg-gradient-to-r from-purple-300 to-red-300 rounded-full w-5/6",children:Object(w.jsx)("div",{className:"flex flex-col justify-center items-center bg-white m-1 rounded-full gap-y-2",children:Object(w.jsxs)("div",{className:"px-5 py-2 truncate max-w-full",children:["Rewards: ",k.toFixed(5)]})})})]})}var h=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=(t[0],t[1],Object(a.useState)(null)),s=Object(d.a)(n,2),i=s[0],r=s[1],l=Object(a.useState)(null),p=Object(d.a)(l,2),y=p[0],h=p[1],v=Object(a.useState)(null),O=Object(d.a)(v,2),g=O[0],k=O[1],M=Object(a.useState)(null),N=Object(d.a)(M,2),C=N[0],S=N[1],W=Object(a.useState)(!1),F=Object(d.a)(W,2),A=F[0],E=F[1],R=Object(a.useState)("Transacting..."),D=Object(d.a)(R,2),B=D[0],V=D[1],H=function(){var e=Object(o.a)(u.a.mark((function e(){var t,n,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=13;break}return t=new c.a(window.ethereum),S(t),e.next=5,window.ethereum.enable();case 5:return e.next=7,t.eth.getAccounts();case 7:n=e.sent,r(n[0]),a=new t.eth.Contract(b,x),h(a),s=new t.eth.Contract(f,j),k(s);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(e,t){E(e),V(t)};return Object(w.jsx)(m.a,{active:A,spinner:!0,text:B,fadeSpeed:2e3,children:Object(w.jsx)("div",{className:"bg-gray-600 h-screen w-screen",children:Object(w.jsxs)("div",{className:"bg-gray-600 h-screen w-screen",children:[Object(w.jsxs)("div",{className:"flex bg-white h-16 p-4 items-center sticky top-0 z-10",children:[Object(w.jsx)("p",{className:"flex-none rounded-2xl text-xl sm:text-2xl",children:" WyanCoin "}),Object(w.jsx)("div",{className:"flex-grow w-full"}),null==i&&Object(w.jsx)("button",{className:"p-2 flex-none rounded-3xl bg-red-300 text-white text-lg border-8 border-white",onClick:H,children:" Connect Wallet "}),null!=i&&Object(w.jsx)("div",{className:"ml-4 px-4 truncate rounded-3xl bg-red-300 text-white text-lg w-96 md:w-1/6",children:i})]}),!A&&Object(w.jsxs)("div",{className:"flex flex-row flex-wrap bg-gray-600 justify-evenly py-10",children:[Object(w.jsx)(T,{symbol:"WYN",tokenContract:y,vaultContract:g,wallet:i,web3:C,disabled:!1,overlayCallback:I}),Object(w.jsx)(T,{symbol:"ETH",tokenContract:y,vaultContract:g,wallet:i,web3:C,disabled:!0,overlayCallback:I})]})]})})})};r.a.render(Object(w.jsx)(s.a.StrictMode,{children:Object(w.jsx)(h,{})}),document.getElementById("root"))}},[[505,1,2]]]);
//# sourceMappingURL=main.2b48e93b.chunk.js.map